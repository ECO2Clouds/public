<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Mon Sep 09 17:09:57 BST 2013 -->
<title>MMQMonitor</title>
<meta name="date" content="2013-09-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MMQMonitor";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MMQMonitor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.ObjectData.html" title="class in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.Route.html" title="enum in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html" target="_top">Frames</a></li>
<li><a href="MMQMonitor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.eco2clouds.accounting.monitoringcollector</div>
<h2 title="Class MMQMonitor" class="title">Class MMQMonitor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>eu.eco2clouds.accounting.monitoringcollector.MMQMonitor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a>, java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MMQMonitor</span>
extends java.lang.Object
implements <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a></pre>
<div class="block">Monitors the BonFIRE Management Message Queue (MMQ) for ECO2Clouds experiment and compute resource events to know when to start and stop tracking a resource.
  When an ECO2Clouds event occurs, it is decoded and the relevant information passed to this object’s DatabaseConnector instance.
  The database function called depends on the message’s Route.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.Route.html" title="enum in eu.eco2clouds.accounting.monitoringcollector">MMQMonitor.Route</a></strong></code>
<div class="block">The Enum Route.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private com.rabbitmq.client.Channel</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#channel">channel</a></strong></code>
<div class="block">Used to represent the AMQP data channel in RabbitMQ.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private com.rabbitmq.client.Connection</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#connection">connection</a></strong></code>
<div class="block">Used to represent the AMQP connection in RabbitMQ.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private com.rabbitmq.client.QueueingConsumer</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#consumer">consumer</a></strong></code>
<div class="block">The consumer object which monitors the message queue using blocking semantics.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#CONSUMER_TAG">CONSUMER_TAG</a></strong></code>
<div class="block">The Constant CONSUMER_TAG used to identify the current consumer on a channel for starting and stopping it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/IDatabaseConnector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">IDatabaseConnector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#dbConnector">dbConnector</a></strong></code>
<div class="block">Used to abstract database functions from the monitor itself.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#EXCHANGE_NAME">EXCHANGE_NAME</a></strong></code>
<div class="block">The Constant EXCHANGE_NAME used to configure the RabbitMQ message queue connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.HashSet&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#experiments">experiments</a></strong></code>
<div class="block">Tracks currently active experiments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.rabbitmq.client.ConnectionFactory</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#factory">factory</a></strong></code>
<div class="block">Produces properly configured RabbitMQ Connection objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private com.google.gson.Gson</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#gson">gson</a></strong></code>
<div class="block">Google Gson object used to deserialise the JSON messsage queue data into MMQEvent objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#queueName">queueName</a></strong></code>
<div class="block">The queue name returned after declaration of the RabbitMQ channel.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#VIRTUAL_HOST">VIRTUAL_HOST</a></strong></code>
<div class="block">The Constant VIRTUAL_HOST used to configure the RabbitMQ message queue connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.net.URI,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#vmAssociations">vmAssociations</a></strong></code>
<div class="block">Associates VMs with an experiment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#MMQMonitor()">MMQMonitor</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#getExperimentIdFromURI(java.net.URI)">getExperimentIdFromURI</a></strong>(java.net.URI&nbsp;uri)</code>
<div class="block">Decodes the numerical experiment ID from a URI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#getSiteFromURI(java.net.URI)">getSiteFromURI</a></strong>(java.net.URI&nbsp;uri)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#makeConnection()">makeConnection</a></strong>()</code>
<div class="block">Make connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processComputeCreation(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processComputeCreation</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process compute creation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processComputeDoneMessage(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processComputeDoneMessage</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process compute done message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processComputeResumed(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processComputeResumed</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process compute resumed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processComputeStopped(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processComputeStopped</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process compute stopped.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processComputeSuspended(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processComputeSuspended</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process compute suspended.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processExperimentCreation(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processExperimentCreation</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process experiment creation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#processExperimentTermination(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">processExperimentTermination</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Process experiment termination.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#routeMessage(java.lang.String, eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">routeMessage</a></strong>(java.lang.String&nbsp;routingKey,
            <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</code>
<div class="block">Handles the message queue event depending on the queue topic it originated from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html#run()">run</a></strong>()</code>
<div class="block">Starts the monitoring of the BonFIRE management message queue and handles each message as it is received.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="EXCHANGE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXCHANGE_NAME</h4>
<pre>private static final&nbsp;java.lang.String EXCHANGE_NAME</pre>
<div class="block">The Constant EXCHANGE_NAME used to configure the RabbitMQ message queue connection.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#eu.eco2clouds.accounting.monitoringcollector.MMQMonitor.EXCHANGE_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="VIRTUAL_HOST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VIRTUAL_HOST</h4>
<pre>private static final&nbsp;java.lang.String VIRTUAL_HOST</pre>
<div class="block">The Constant VIRTUAL_HOST used to configure the RabbitMQ message queue connection.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#eu.eco2clouds.accounting.monitoringcollector.MMQMonitor.VIRTUAL_HOST">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CONSUMER_TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONSUMER_TAG</h4>
<pre>private static final&nbsp;java.lang.String CONSUMER_TAG</pre>
<div class="block">The Constant CONSUMER_TAG used to identify the current consumer on a channel for starting and stopping it.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#eu.eco2clouds.accounting.monitoringcollector.MMQMonitor.CONSUMER_TAG">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="channel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channel</h4>
<pre>private&nbsp;com.rabbitmq.client.Channel channel</pre>
<div class="block">Used to represent the AMQP data channel in RabbitMQ.</div>
</li>
</ul>
<a name="connection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connection</h4>
<pre>private&nbsp;com.rabbitmq.client.Connection connection</pre>
<div class="block">Used to represent the AMQP connection in RabbitMQ.</div>
</li>
</ul>
<a name="factory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>factory</h4>
<pre>public&nbsp;com.rabbitmq.client.ConnectionFactory factory</pre>
<div class="block">Produces properly configured RabbitMQ Connection objects.</div>
</li>
</ul>
<a name="consumer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumer</h4>
<pre>private&nbsp;com.rabbitmq.client.QueueingConsumer consumer</pre>
<div class="block">The consumer object which monitors the message queue using blocking semantics.</div>
</li>
</ul>
<a name="gson">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gson</h4>
<pre>private&nbsp;com.google.gson.Gson gson</pre>
<div class="block">Google Gson object used to deserialise the JSON messsage queue data into MMQEvent objects.</div>
</li>
</ul>
<a name="dbConnector">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbConnector</h4>
<pre>public&nbsp;<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/IDatabaseConnector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">IDatabaseConnector</a> dbConnector</pre>
<div class="block">Used to abstract database functions from the monitor itself.</div>
</li>
</ul>
<a name="experiments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>experiments</h4>
<pre>public&nbsp;java.util.HashSet&lt;java.lang.Integer&gt; experiments</pre>
<div class="block">Tracks currently active experiments. Used to filter irrelevant message queue events.</div>
</li>
</ul>
<a name="vmAssociations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vmAssociations</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.net.URI,java.lang.Integer&gt; vmAssociations</pre>
<div class="block">Associates VMs with an experiment. Used to filter irrelevant message queue events.</div>
</li>
</ul>
<a name="queueName">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>queueName</h4>
<pre>private&nbsp;java.lang.String queueName</pre>
<div class="block">The queue name returned after declaration of the RabbitMQ channel.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MMQMonitor()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MMQMonitor</h4>
<pre>public&nbsp;MMQMonitor()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="makeConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeConnection</h4>
<pre>public&nbsp;void&nbsp;makeConnection()</pre>
<div class="block">Make connection.</div>
</li>
</ul>
<a name="processExperimentCreation(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processExperimentCreation</h4>
<pre>private&nbsp;void&nbsp;processExperimentCreation(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process experiment creation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processExperimentTermination(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processExperimentTermination</h4>
<pre>private&nbsp;void&nbsp;processExperimentTermination(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process experiment termination.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processComputeStopped(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processComputeStopped</h4>
<pre>private&nbsp;void&nbsp;processComputeStopped(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process compute stopped.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processComputeSuspended(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processComputeSuspended</h4>
<pre>private&nbsp;void&nbsp;processComputeSuspended(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process compute suspended.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processComputeResumed(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processComputeResumed</h4>
<pre>private&nbsp;void&nbsp;processComputeResumed(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process compute resumed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processComputeCreation(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processComputeCreation</h4>
<pre>private&nbsp;void&nbsp;processComputeCreation(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process compute creation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="processComputeDoneMessage(eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processComputeDoneMessage</h4>
<pre>private&nbsp;void&nbsp;processComputeDoneMessage(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Process compute done message.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="routeMessage(java.lang.String, eu.eco2clouds.accounting.monitoringcollector.MMQEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>routeMessage</h4>
<pre>public&nbsp;void&nbsp;routeMessage(java.lang.String&nbsp;routingKey,
                <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MMQEvent</a>&nbsp;event)</pre>
<div class="block">Handles the message queue event depending on the queue topic it originated from.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routingKey</code> - the originating message queue topic. Used as a key to select how the event should be processed.</dd><dd><code>event</code> - the event</dd></dl>
</li>
</ul>
<a name="getExperimentIdFromURI(java.net.URI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExperimentIdFromURI</h4>
<pre>private&nbsp;int&nbsp;getExperimentIdFromURI(java.net.URI&nbsp;uri)</pre>
<div class="block">Decodes the numerical experiment ID from a URI. e.g. Gets 2946 from "/experiments/2946".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uri</code> - the URI to be decoded.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the experiment id of the given URI.</dd></dl>
</li>
</ul>
<a name="getSiteFromURI(java.net.URI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSiteFromURI</h4>
<pre>private&nbsp;java.lang.String&nbsp;getSiteFromURI(java.net.URI&nbsp;uri)</pre>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block"><p>Starts the monitoring of the BonFIRE management message queue and handles each message as it is received. Each message is deserialised from JSON into an MMQEvent object and shipped to the routeMessage() method for processing.</p>
 
 <p>Implemented using the RabbitMQ QueueingConsumer and closely following the example code given in the BonFIRE Wiki documentation.</p>
 
 <p>To stop, must be interrupted from another thread otherwise messages will be consumed indefinitely.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>Runnable.run()</code>, 
<a href="http://wiki.bonfire-project.eu/index.php/Producers_and_consumers_code#Consumer">BonFIRE Wiki Producers and Consumers Code</a></dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.net.URISyntaxException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.URISyntaxException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MMQMonitor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQEvent.ObjectData.html" title="class in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.Route.html" title="enum in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/eco2clouds/accounting/monitoringcollector/MMQMonitor.html" target="_top">Frames</a></li>
<li><a href="MMQMonitor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
