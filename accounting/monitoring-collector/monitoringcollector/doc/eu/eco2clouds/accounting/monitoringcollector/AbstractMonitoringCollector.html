<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Mon Sep 09 17:09:57 BST 2013 -->
<title>AbstractMonitoringCollector</title>
<meta name="date" content="2013-09-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractMonitoringCollector";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractMonitoringCollector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html" target="_top">Frames</a></li>
<li><a href="AbstractMonitoringCollector.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.eco2clouds.accounting.monitoringcollector</div>
<h2 title="Class AbstractMonitoringCollector" class="title">Class AbstractMonitoringCollector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>eu.eco2clouds.accounting.monitoringcollector.AbstractMonitoringCollector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/MonitoringCollector.html" title="class in eu.eco2clouds.accounting.monitoringcollector">MonitoringCollector</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractMonitoringCollector</span>
extends java.lang.Object</pre>
<div class="block">A base class that abstracts the threading code from any Monitoring Collector implementation.
 On start(), creates new threads for the monitoring component and the collecting component and starts them asynchronously.
 On stop(), signals the components to shut down and joins the threads.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Collector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#collector">collector</a></strong></code>
<div class="block">The collecting component of the Monitoring Collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#collectorThread">collectorThread</a></strong></code>
<div class="block">The collecting thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#monitor">monitor</a></strong></code>
<div class="block">The monitoring component of the Monitoring Collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#monitorThread">monitorThread</a></strong></code>
<div class="block">The monitoring thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#started">started</a></strong></code>
<div class="block">Gates start and stop function.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#TIMEOUT">TIMEOUT</a></strong></code>
<div class="block">The Constant TIMEOUT.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#AbstractMonitoringCollector()">AbstractMonitoringCollector</a></strong>()</code>
<div class="block">Instantiates a new abstract monitoring collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#AbstractMonitoringCollector(eu.eco2clouds.accounting.monitoringcollector.Monitor, eu.eco2clouds.accounting.monitoringcollector.Collector)">AbstractMonitoringCollector</a></strong>(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a>&nbsp;monitor,
                           <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Collector</a>&nbsp;collector)</code>
<div class="block">Instantiates a new abstract monitoring collector with the supplied monitor and collector objects.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#start()">start</a></strong>()</code>
<div class="block">Sets up and starts threads for the monitor and collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html#stop()">stop</a></strong>()</code>
<div class="block">Stops and attempts to clean up threads.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="monitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monitor</h4>
<pre><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a> monitor</pre>
<div class="block">The monitoring component of the Monitoring Collector. Subscribes to the BonFIRE Management Message Queue to watch for ECO2Clouds events.</div>
</li>
</ul>
<a name="collector">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collector</h4>
<pre><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Collector</a> collector</pre>
<div class="block">The collecting component of the Monitoring Collector. Periodically queries the BonFIRE API for metrics on active resources.</div>
</li>
</ul>
<a name="monitorThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monitorThread</h4>
<pre>private&nbsp;java.lang.Thread monitorThread</pre>
<div class="block">The monitoring thread.</div>
</li>
</ul>
<a name="collectorThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectorThread</h4>
<pre>private&nbsp;java.lang.Thread collectorThread</pre>
<div class="block">The collecting thread.</div>
</li>
</ul>
<a name="started">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>started</h4>
<pre>public&nbsp;boolean started</pre>
<div class="block">Gates start and stop function.</div>
</li>
</ul>
<a name="TIMEOUT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TIMEOUT</h4>
<pre>private static final&nbsp;long TIMEOUT</pre>
<div class="block">The Constant TIMEOUT. Used to limit the time spent waiting for thread joins when the Monitoring Collector is shutting down. Set to 250ms.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#eu.eco2clouds.accounting.monitoringcollector.AbstractMonitoringCollector.TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractMonitoringCollector()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AbstractMonitoringCollector</h4>
<pre>public&nbsp;AbstractMonitoringCollector()</pre>
<div class="block">Instantiates a new abstract monitoring collector.</div>
</li>
</ul>
<a name="AbstractMonitoringCollector(eu.eco2clouds.accounting.monitoringcollector.Monitor, eu.eco2clouds.accounting.monitoringcollector.Collector)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractMonitoringCollector</h4>
<pre>public&nbsp;AbstractMonitoringCollector(<a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Monitor.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Monitor</a>&nbsp;monitor,
                           <a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector">Collector</a>&nbsp;collector)</pre>
<div class="block">Instantiates a new abstract monitoring collector with the supplied monitor and collector objects.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>monitor</code> - the monitor</dd><dd><code>collector</code> - the collector</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Sets up and starts threads for the monitor and collector. Sets both threads to daemons to avoid hanging the JVM on failure.</div>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops and attempts to clean up threads.
 Some RabbitMQ functions swallow the InterruptedException used to exit while the monitor is performing a blocking wait on the Management Message Queue.
 Timeout on thread join added to handle this.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractMonitoringCollector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../eu/eco2clouds/accounting/monitoringcollector/Collector.html" title="interface in eu.eco2clouds.accounting.monitoringcollector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/eco2clouds/accounting/monitoringcollector/AbstractMonitoringCollector.html" target="_top">Frames</a></li>
<li><a href="AbstractMonitoringCollector.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
